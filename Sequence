# Sequence Rule 
# Sequence rule discovery digs deeper than association rule discovery by taking into account the sequence of appearance of the items;  
# Help merchants plan their seasonal inventory.
# Allow researcher to recognize occurrence sequence of events. 
# Sequential rules identify items that frequently follow other items in transaction-based data. A sequential pattern is simply an ordered list of itemsets.
# Sequence rules are based on timestamps of items bought and frequency counts of the number of times items occur alone and in combination in the database.
# All itemsets leading to the final itemset form the antecedent sequence, and the last itemset is the consequent sequence.
# If item A is part of a transaction at time t1, then item B is also part of the transaction at time t2 and X percent of the time (not direct causation).

# Any numeric index that can represent the chronological occurrence of events or activities is the time.
# The observed value of the index is the timestamp.
# The analysis focuses on occurrence sequence of events to a customer instead of absolute times.
# Size: the number of items contained in a sequence.
# Length or Chain Count: the number of itemsets in the sequence.

# Support is the percentage of customers that have the sequence of transactions
# Confidence is the ratio obtained by dividing the support of the sequence rule by the support of the antecedent sequence.
# Expected Confidence is the support of the consequent itemset.
# Lift is the ratio obtained by dividing the confidence of the sequence rule by the support of the consequent.

# Association Rules in PROC ASSOC
# 1. Statements of the DMDB procedure:
PROC DMDB DATA=data-set-name <options>;
	CLASS list-of-variables <option>;
	FREQ variable;
	ID list-of-variables;
	TARGET list-of-variables;
	VAR list-of-variables;
RUN;

# 2. Statements of the ASSOC procedure:
PROC ASSOC DATA=data-set-name <options>;
	CUSTOMER list-of-variables;
	TARGET list-of-variables;
RUN;

# 3. Statements of the SEQUENCE procedure:
PROC SEQUENCE DATA=data-set-name  #input data source, separate observation for each product for each customer.              
     ASSOC=data-set-name          #output data set from the ASSOC procedure
              DMDBCAT=catalog-name    #specifies the metadata catalog for the input data source
              <options>;   #Optional: NITEMS=number(maximum number of events that are possible for each rule, positive integer); SUPPORT = number(minimum number of customers for a rule to be accepted, default is 2%, positive integer); 
	                    OUT= data-set-name(output dataset)           
	CUSTOMER list-of-variables;  
	TARGET variable; 
	VISIT variable </ options>; #timestamp,numeric values. 
RUN;















